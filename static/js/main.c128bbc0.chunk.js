(this["webpackJsonpupload-frontend"]=this["webpackJsonpupload-frontend"]||[]).push([[0],{41:function(e,t,a){e.exports=a.p+"static/media/seshcraft.6cb2b30c.png"},47:function(e,t,a){e.exports=a(48)},48:function(e,t,a){"use strict";a.r(t);var n=a(27),s=a(28),o=a(16),r=a(29),i=a(30),l=a(8),c=a.n(l),p=a(0),u=a.n(p),d=a(76),h=a(75),m=a(40),f=a(41),b=a.n(f),g=(a(70),"http://ec2-52-91-0-119.compute-1.amazonaws.com"),v=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={didStart:!1,didComplete:!1,uploadSuccess:!1,file:null,password:"",message:"",progress:0},s.onFormSubmit=s.onFormSubmit.bind(Object(o.a)(s)),s.onChange=s.onChange.bind(Object(o.a)(s)),s.uploadFile=s.uploadFile.bind(Object(o.a)(s)),s.onPassChange=s.onPassChange.bind(Object(o.a)(s)),s}return Object(s.a)(a,[{key:"onFormSubmit",value:function(e){var t=this;e.preventDefault(),this.uploadFile(this.state.file).then((function(e){t.setState({uploadSuccess:e.data.success,didComplete:!0,didStart:!1,message:e.data.reason})}))}},{key:"onChange",value:function(e){this.setState({file:e.target.files[0]})}},{key:"onPassChange",value:function(e){this.setState({password:e.target.value})}},{key:"uploadFile",value:function(e){var t=this;this.setState({didStart:!0});var a=g+":8080/upload?pwd="+this.state.password,n=new FormData;return n.append("file",e),Object(m.post)(a,n,{headers:{"content-type":"multipart/form-data"},body:"test",onUploadProgress:function(e){return t.setState({progress:Math.round(100*e.loaded/e.total)})}})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"App"},u.a.createElement(C,{key:"".concat(this.state.didComplete),open:this.state.didComplete,type:this.state.uploadSuccess?"success":"error",message:this.state.message,uploadOver:function(){e.setState({didStart:!1,didComplete:!1,uploadSuccess:!1,password:""})}}),u.a.createElement("img",{src:b.a,className:"App-logo",alt:"logo"}),u.a.createElement("h1",null,"File upload"),u.a.createElement("form",{onSubmit:this.onFormSubmit},u.a.createElement("input",{type:"text",value:this.state.password,onChange:this.onPassChange,placeholder:"password here"}),u.a.createElement("input",{type:"file",onChange:this.onChange}),u.a.createElement("button",{type:"submit"},"Upload")),this.state.didStart?u.a.createElement("div",{className:"myProgress"},u.a.createElement("div",{className:"myBar",style:{width:this.state.progress+"%"}})):null,u.a.createElement("a",{className:"App-link",href:"http://".concat(g,":8080/download")},"click here to download current modpack"))}}]),a}(u.a.Component),C=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).handleClose=function(e,t){"clickaway"!==t&&(s.setState({open:!1}),s.props.uploadOver())},s.state={open:s.props.open},s}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return u.a.createElement(d.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,autoHideDuration:5e3,onClose:function(){return e.handleClose()}},u.a.createElement(h.a,{onClose:function(){return e.handleClose()},severity:this.props.type,elevation:6,variant:"filled"},this.props.message))}}]),a}(u.a.Component);c.a.render(u.a.createElement(v,null),document.getElementById("root"))},70:function(e,t,a){}},[[47,1,2]]]);
//# sourceMappingURL=main.c128bbc0.chunk.js.map