{"version":3,"sources":["seshcraft.png","index.js"],"names":["module","exports","ip","App","props","state","didStart","didComplete","uploadSuccess","file","password","message","progress","onFormSubmit","bind","onChange","uploadFile","onPassChange","e","preventDefault","this","then","response","setState","data","success","reason","target","files","value","url","formData","FormData","append","post","headers","body","onUploadProgress","progressEvent","Math","round","loaded","total","className","Message","key","open","type","uploadOver","src","logo","alt","onSubmit","placeholder","style","width","href","React","Component","handleClose","event","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","severity","elevation","variant","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c128bbc0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/seshcraft.6cb2b30c.png\";","import ReactDOM from 'react-dom';\r\nimport React from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { post } from 'axios';\r\n\r\nimport logo from './seshcraft.png';\r\nimport './index.css';\r\n\r\n// const ip = 'http://localhost';\r\nconst ip = 'http://ec2-52-91-0-119.compute-1.amazonaws.com';\r\n\r\nclass App extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdidStart: false,\r\n\t\t\tdidComplete: false,\r\n\t\t\tuploadSuccess: false,\r\n\t\t\tfile: null,\r\n\t\t\tpassword: '',\r\n\t\t\tmessage: '',\r\n\t\t\tprogress: 0\r\n\t\t};\r\n\t\tthis.onFormSubmit = this.onFormSubmit.bind(this);\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tthis.uploadFile = this.uploadFile.bind(this);\r\n\t\tthis.onPassChange = this.onPassChange.bind(this);\r\n\t}\r\n\r\n\tonFormSubmit(e) {\r\n\t\te.preventDefault(); // Stop form submit\r\n\t\tthis.uploadFile(this.state.file).then((response) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tuploadSuccess: response.data.success,\r\n\t\t\t\tdidComplete: true,\r\n\t\t\t\tdidStart: false,\r\n\t\t\t\tmessage: response.data.reason\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\tonChange(e) {\r\n\t\tthis.setState({ file: e.target.files[0] });\r\n\t}\r\n\tonPassChange(e) {\r\n\t\tthis.setState({ password: e.target.value });\r\n\t}\r\n\r\n\tuploadFile(file) {\r\n\t\tthis.setState({ didStart: true });\r\n\t\tconst url = ip + ':8080/upload?pwd=' + this.state.password;\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('file', file);\r\n\t\treturn post(url, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'content-type': 'multipart/form-data'\r\n\t\t\t},\r\n\t\t\tbody: 'test',\r\n\t\t\tonUploadProgress: (progressEvent) =>\r\n\t\t\t\tthis.setState({ progress: Math.round((progressEvent.loaded * 100) / progressEvent.total) })\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"App\">\r\n\t\t\t\t<Message\r\n\t\t\t\t\tkey={`${this.state.didComplete}`}\r\n\t\t\t\t\topen={this.state.didComplete}\r\n\t\t\t\t\ttype={this.state.uploadSuccess ? 'success' : 'error'}\r\n\t\t\t\t\tmessage={this.state.message}\r\n\t\t\t\t\tuploadOver={() => {\r\n\t\t\t\t\t\tthis.setState({ didStart: false, didComplete: false, uploadSuccess: false, password: '' });\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n\t\t\t\t<h1>File upload</h1>\r\n\t\t\t\t<form onSubmit={this.onFormSubmit}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\tonChange={this.onPassChange}\r\n\t\t\t\t\t\tplaceholder={'password here'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input type=\"file\" onChange={this.onChange} />\r\n\t\t\t\t\t<button type=\"submit\">Upload</button>\r\n\t\t\t\t</form>\r\n\t\t\t\t{this.state.didStart ? (\r\n\t\t\t\t\t<div className=\"myProgress\">\r\n\t\t\t\t\t\t<div className=\"myBar\" style={{ width: this.state.progress + '%' }} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<a className=\"App-link\" href={`http://${ip}:8080/download`}>\r\n\t\t\t\t\tclick here to download current modpack\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass Message extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = { open: this.props.open };\r\n\t}\r\n\tcom;\r\n\thandleClose = (event, reason) => {\r\n\t\tif (reason === 'clickaway') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.uploadOver();\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Snackbar\r\n\t\t\t\tanchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n\t\t\t\topen={this.state.open}\r\n\t\t\t\tautoHideDuration={5000}\r\n\t\t\t\tonClose={() => this.handleClose()}\r\n\t\t\t>\r\n\t\t\t\t<MuiAlert onClose={() => this.handleClose()} severity={this.props.type} elevation={6} variant=\"filled\">\r\n\t\t\t\t\t{this.props.message}\r\n\t\t\t\t</MuiAlert>\r\n\t\t\t</Snackbar>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}